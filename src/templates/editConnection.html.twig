{% extends "@ContaoCore/Backend/be_page.html.twig" %}

{% block headline %}
    <span>{{ 'connectors.manageConnections'|trans({}, 'contao_default') }}</span> > 
		{% if ftpEntry.id %}<span>{{ 'connectors.edit'|trans({}, 'contao_default') }}</span>
			{% else %}
		<span>{{ 'connectors.new'|trans({}, 'contao_default') }}{% endif %}</span>
{% endblock %}

{% block error %}
{% endblock %}

{% block main %}
	<div id="tl_buttons">
		<a href="contao/ftp-connections" class="header_back" title="" onclick="Backend.getScrollOffset()">{{ 'MSC.goBack'|trans({}, 'contao_default') }}</a>
	</div>
	<form id="tl_article" class="tl_form tl_edit_form" method="post" action="contao/ftp-connections/save?id={{ftpEntry.id}}">
		<div class="tl_formbody_edit">
			<fieldset id="pal_title_legend" class="tl_tbox">
				<legend onclick="AjaxRequest.toggleFieldset(this,'title_legend','tl_article')">{{ 'connectors.generalSettings'|trans({}, 'contao_default') }}</legend>

				<div class="w50 clr widget">
					<h3>
						<label for="ctrl_title" class="mandatory">
							<span class="invisible">Mandatory field </span>
								{{ 'connectors.title'|trans({}, 'contao_default') }}							<span class="mandatory">*</span>
						</label>
					</h3>
					<input type="text" name="title" id="ctrl_title" class="tl_text mandatory" value="{{ftpEntry.title}}" required="" maxlength="255" onfocus="Backend.getScrollOffset()">
					<p class="tl_help tl_tip" title="">{{ 'connectors.title.1'|trans({}, 'contao_default') }}</p>
				</div>
				
				<div class="w50 widget">
					<h3>
						<label>
						  	<span class="invisible">Mandatory field </span>
							Protokoll
							<span class="mandatory">*</span>
					   </label>
					</h3>
					
				  	<select name="protocol" id="ctrl_protocol" class="tl_select tl_chosen" onfocus="Backend.getScrollOffset()" style="display: none;">
						{% for ftpProtocol in ftpProtocols %}
							<option {% if ftpEntry.protocol.id == ftpProtocol.id %} selected {% endif %} value="{{ftpProtocol.id}}">{{ftpProtocol.title}}</option>
						{% endfor %}
				  	</select>
		  			<p class="tl_help tl_tip" title="">W&auml;hlen Sie das gew&uuml;nschte Protokoll.</p>
				</div>

				<div class=" clr widget">
					<h3>
						<label for="ctrl_description" class="mandatory">
							<span class="invisible">Mandatory field </span>
							Beschreibung
							<span class="mandatory">*</span>
						</label>
					</h3>
					<input type="text" name="description" id="ctrl_description" class="tl_text mandatory" value="{{ftpEntry.description}}" required="" maxlength="255" onfocus="Backend.getScrollOffset()">
					<p class="tl_help tl_tip" title="">F&uuml;r das soll die Verbindung eingesetzt werden.</p>
				</div>

			</fieldset>
		
			<fieldset id="pal_server_legend" class="tl_tbox">
				<legend onclick="AjaxRequest.toggleFieldset(this,'server_legend','tl_article')">Server-Einstellungen</legend>

				<div class="w50 clr widget">
					<h3>
						<label for="ctrl_server" class="mandatory">
							<span class="invisible">Mandatory field </span>
							Server-Adresse
							<span class="mandatory">*</span>
						</label>
					</h3>
					<input type="text" name="server" id="ctrl_server" class="tl_text mandatory" value="{{ftpEntry.server}}" required="" maxlength="255" onfocus="Backend.getScrollOffset()">
					<p class="tl_help tl_tip" title="">Bitte f&uuml;gen Sie einen eindeutigen Namen f&uuml;r die Verbindung hinzu.</p>
				</div>
				
				<div class="w50 widget">
					<h3>
						<label>
						  	<span class="invisible">Mandatory field </span>
							Port
							<span class="mandatory">*</span>
					   </label>
					</h3>
					
				  	<input type="number" name="port" id="ctrl_port" class="tl_text mandatory" value="{{ftpEntry.port}}" required="" maxlength="255" onfocus="Backend.getScrollOffset()">

		  			<p class="tl_help tl_tip" title="">W&auml;hlen Sie den gew&uuml;nschte Port.</p>
				</div>

				<div class="w50 clr widget">
					<h3>
						<label for="ctrl_user" class="mandatory">
							<span class="invisible">Mandatory field </span>
							Benutzer
							<span class="mandatory">*</span>
						</label>
					</h3>
					<input type="text" name="user" id="ctrl_user" class="tl_text mandatory" value="{{ftpEntry.user}}" required="" maxlength="255" onfocus="Backend.getScrollOffset()">
					<p class="tl_help tl_tip" title="">Bitte f&uuml;gen Sie einen eindeutigen Namen f&uuml;r die Verbindung hinzu.</p>
				</div>

				<div class="w50 widget">
					<h3>
						<label for="ctrl_password" class="mandatory">
							<span class="invisible">Mandatory field </span>
							Passwort
							<span class="mandatory">*</span>
						</label>
					</h3>
					<input type="text" name="password" id="ctrl_password" class="tl_text mandatory" value="{{ftpEntry.password}}" required="" maxlength="255" onfocus="Backend.getScrollOffset()">
					<p class="tl_help tl_tip" title="">Bitte f&uuml;gen Sie einen eindeutigen Namen f&uuml;r die Verbindung hinzu.</p>
				</div>

			</fieldset>
		</div>

		<div class="tl_formbody_submit">
			<div class="tl_submit_container">
				<button type="submit" name="save" id="save" class="tl_submit" accesskey="s">Speichern und zur&uuml;ck</button> 
			</div>
		</div>
	</form>
    
{% endblock %}